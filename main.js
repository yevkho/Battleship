(()=>{"use strict";var n={365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  line-height: 1.5;\n  font-family: system-ui;\n  --green-color: #059669;\n  --grey-color: #e2e8f0;\n  --gold-color: #f7ad2d;\n  --boxshadow: 2px 2px 4px 1px rgb(0 0 0 / 10%);\n}\n\n.container {\n  min-height: 100vh;\n  display: grid;\n  grid-template-rows: 1fr 2.5fr 1fr;\n}\n\n.display {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n}\n\n.yourGrid,\n.opponentGrid {\n  height: 350px;\n  width: 350px;\n  border: solid lightskyblue 0.5px;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n}\n\n.footer {\n  display: flex;\n  justify-content: space-around;\n}\n\n.shipCell {\n  border: solid blue 1.5px;\n  cursor: pointer;\n}\n\n.emptyCell {\n  border: solid lightskyblue 0.5px;\n  cursor: pointer;\n}\n\n.missCell {\n  border: solid lightskyblue 0.5px;\n  cursor: pointer;\n  background-color: var(--grey-color);\n}\n\n.hitShip {\n  background-color: red; /* Example styling */\n}\n\n.randomShips {\n  margin-bottom: 20px;\n}\n\n.shipOptions {\n  width: 500px;\n  height: 130px;\n  display: flex;\n  align-items: center;\n}\n\n.oneShip {\n  width: 30px;\n  height: 30px;\n  background-color: blue;\n  margin: 10px;\n}\n\n.twoShip {\n  width: 60px;\n  height: 30px;\n  background-color: brown;\n  margin: 10px;\n}\n\n.threeShip {\n  width: 90px;\n  height: 30px;\n  background-color: green;\n  margin: 10px;\n}\n\n.fourShip {\n  width: 120px;\n  height: 30px;\n  background-color: purple;\n  margin: 10px;\n}\n\n.hover {\n  background-color: grey;\n}\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,sBAAsB;EACtB,sBAAsB;EACtB,qBAAqB;EACrB,qBAAqB;EACrB,6CAA6C;AAC/C;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,iCAAiC;AACnC;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,6BAA6B;AAC/B;;AAEA;;EAEE,aAAa;EACb,YAAY;EACZ,gCAAgC;EAChC,aAAa;EACb,sCAAsC;EACtC,mCAAmC;AACrC;;AAEA;EACE,aAAa;EACb,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;EACxB,eAAe;AACjB;;AAEA;EACE,gCAAgC;EAChC,eAAe;AACjB;;AAEA;EACE,gCAAgC;EAChC,eAAe;EACf,mCAAmC;AACrC;;AAEA;EACE,qBAAqB,EAAE,oBAAoB;AAC7C;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,YAAY;EACZ,wBAAwB;EACxB,YAAY;AACd;;AAEA;EACE,sBAAsB;AACxB",sourcesContent:["* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  line-height: 1.5;\n  font-family: system-ui;\n  --green-color: #059669;\n  --grey-color: #e2e8f0;\n  --gold-color: #f7ad2d;\n  --boxshadow: 2px 2px 4px 1px rgb(0 0 0 / 10%);\n}\n\n.container {\n  min-height: 100vh;\n  display: grid;\n  grid-template-rows: 1fr 2.5fr 1fr;\n}\n\n.display {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n}\n\n.yourGrid,\n.opponentGrid {\n  height: 350px;\n  width: 350px;\n  border: solid lightskyblue 0.5px;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n}\n\n.footer {\n  display: flex;\n  justify-content: space-around;\n}\n\n.shipCell {\n  border: solid blue 1.5px;\n  cursor: pointer;\n}\n\n.emptyCell {\n  border: solid lightskyblue 0.5px;\n  cursor: pointer;\n}\n\n.missCell {\n  border: solid lightskyblue 0.5px;\n  cursor: pointer;\n  background-color: var(--grey-color);\n}\n\n.hitShip {\n  background-color: red; /* Example styling */\n}\n\n.randomShips {\n  margin-bottom: 20px;\n}\n\n.shipOptions {\n  width: 500px;\n  height: 130px;\n  display: flex;\n  align-items: center;\n}\n\n.oneShip {\n  width: 30px;\n  height: 30px;\n  background-color: blue;\n  margin: 10px;\n}\n\n.twoShip {\n  width: 60px;\n  height: 30px;\n  background-color: brown;\n  margin: 10px;\n}\n\n.threeShip {\n  width: 90px;\n  height: 30px;\n  background-color: green;\n  margin: 10px;\n}\n\n.fourShip {\n  width: 120px;\n  height: 30px;\n  background-color: purple;\n  margin: 10px;\n}\n\n.hover {\n  background-color: grey;\n}\n"],sourceRoot:""}]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<n.length;l++){var A=[].concat(n[l]);r&&i[A[0]]||(void 0!==a&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=a),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),o&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=o):A[4]="".concat(o)),e.push(A))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],A=a[l]||0,d="".concat(l," ").concat(A);a[l]=A+1;var u=t(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var h=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=r(n,o),l=0;l<a.length;l++){var A=t(a[l]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}a=c}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),o=t.n(r),a=t(825),i=t.n(a),s=t(659),c=t.n(s),l=t(56),A=t.n(l),d=t(540),u=t.n(d),p=t(113),h=t.n(p),f=t(365),g={};function m(n,e){if("computer"!==n&&"real"!==n)throw new Error('Invalid player type - "computer" or "real"');const t=function(){let n=Array(10).fill(null).map((()=>Array(10).fill(null))),e=new Set,t=[],r=new Set;return{getGameBoard:function(){return n},gameBoardReset:function(){n=Array(10).fill(null).map((()=>Array(10).fill(null))),e=new Set,t=[],r=new Set},placeShip:function(e){if(0===e.length)return;const r=function(n){let e=0,t=!1;return{shipLength:n,getHitsCount:function(){return e},hit:function(){e++},checkIfSunk:function(){return e>=n&&(t=!0),t}}}(e.length);t.push(r),e.forEach((e=>{const[t,o]=e;n[t][o]=r}))},receiveAttack:function(t,o,a){if(1==n[t][o])return null;n[t][o]?(n[t][o].hit(),a(),r.add(`${t},${o}`)):(n[t][o]=1,e.add(`${t},${o}`))},getMissedAttacks:function(){return e},getHitAttacks:function(){return r},checkAllShipsSunk:function(){return t.every((n=>n.checkIfSunk()))}}}();return{playerType:n,playerName:e,getGameBoard:function(){return t}}}function C(n,e){const t=document.querySelector(".yourGrid"),r=document.querySelector(".opponentGrid");t.replaceChildren(),r.replaceChildren(),[n.getGameBoard(),e.getGameBoard()].forEach(((n,e)=>{n.getGameBoard().forEach(((o,a)=>{o.forEach(((o,i)=>{const s=document.createElement("div");s.setAttribute("data-yIndex",`${a}`),s.setAttribute("data-XIndex",`${i}`),null==o?s.setAttribute("class","emptyCell"):"object"==typeof o&&"hit"in o?0==e?s.setAttribute("class","shipCell"):s.setAttribute("class","emptyCell"):1==o&&s.setAttribute("class","missCell"),n.getHitAttacks().has(`${a},${i}`)&&s.classList.add("hitShip"),s.addEventListener("click",(e=>{$(e,n)})),s.addEventListener("dragover",Y),s.addEventListener("drop",G),0==e?t.appendChild(s):r.appendChild(s)}))}))}))}g.styleTagTransform=h(),g.setAttributes=A(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u(),o()(f.A,g),f.A&&f.A.locals&&f.A.locals,document.querySelector(".randomShips").addEventListener("click",(()=>{N()}));const E=document.querySelector(".flipButton"),y=document.querySelector(".shipOptions");let x,b,v,B,k,S=0;function w(n){x=n.target}function G(n){const e=[Number(n.target.dataset.yindex),Number(n.target.dataset.xindex)];!function(n,[e,t],r){let o=[];for(let a=0;a<n;a++)r?o.push([e,t+a]):o.push([e+a,t]);b.getGameBoard().placeShip(o),C(B,k)}(Number(x.id),e,0===S)}function Y(n){n.preventDefault();let e=Number(n.target.dataset.yindex),t=Number(n.target.dataset.xindex);const r=Number(x.id);let o=0===S,a=[];for(let n=0;n<r;n++)o?a.push([e,t+n]):a.push([e+n,t]);a.forEach((([n,e])=>{const t=document.querySelector(`div[data-yindex="${n}"][data-xindex="${e}"]`);t.classList.add("hover"),setTimeout((()=>t.classList.remove("hover")),300)}))}function $(n,e){if(function(n,e){const t=n.target.dataset.yindex,r=n.target.dataset.xindex;return e.getMissedAttacks().has(`${t},${r}`)||e.getHitAttacks().has(`${t},${r}`)?(alert("already hit, try new target"),!1):(e.receiveAttack(t,r,console.log),!0)}(n,e)){if(C(B,k),e.checkAllShipsSunk())return console.log(`Game Over: ${B.playerName} won!`),void N();console.log("loader start"),setTimeout((()=>{console.log("loader end"),T(),console.log(`${B.playerName}'s turn`),C(B,k),"computer"==B.playerType&&setTimeout((()=>function(n){let e,t;console.log(k);do{e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random())}while(n.getMissedAttacks().has(`${e},${t}`)||n.getHitAttacks().has(`${e},${t}`));if(n.receiveAttack(e,t,console.log),C(B,k),k.getGameBoard().checkAllShipsSunk())return console.log(`Game Over: ${B.playerName} won!`),void N();setTimeout((()=>{T(),console.log(`${B.playerName}'s turn`),C(B,k)}),2e3)}(k.getGameBoard())),2e3)}),2e3)}}function M(n){function e(e){return e.every((([e,t])=>{if(null!==n.getGameBoard()[e][t])return!1;for(let r=-1;r<=1;r++)for(let o=-1;o<=1;o++){const a=e+r,i=t+o;if(a>=0&&a<10&&i>=0&&i<10&&null!==n.getGameBoard()[a][i])return!1}return!0}))}[1,2,3,4].forEach((t=>{let r=!1;for(;!r;){const o=Math.random()<.5,a=Math.floor(Math.random()*(o?10-t:10)),i=Math.floor(Math.random()*(o?10:10-t)),s=[];for(let n=0;n<t;n++)o?s.push([i,a+n]):s.push([i+n,a]);e(s)&&(n.placeShip(s),r=!0)}}))}function N(){b.getGameBoard().gameBoardReset(),M(b.getGameBoard()),v.getGameBoard().gameBoardReset(),M(v.getGameBoard()),B=b,k=v,C(B,k)}function T(){B==b?(B=v,k=b):(B=b,k=v)}E.addEventListener("click",(function(){const n=Array.from(y.children);S=0===S?90:0,n.forEach((n=>n.style.transform=`rotate(${S}deg)`))})),Array.from(y.children).forEach((n=>n.addEventListener("dragstart",w))),b=m("real","Yev"),M(b.getGameBoard()),v=m("computer","NPC"),M(v.getGameBoard()),B=b,k=v,C(B,k)})();
//# sourceMappingURL=main.js.map